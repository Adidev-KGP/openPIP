{% extends 'base.html.twig' %} 
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/main.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/data_upload.css') }}">
{% endblock %}
{% block title %}{{ short_title }} | Data{% endblock %} 
{% block content %}
<header>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header tor_ibin_header">
				<img alt="" src="{{ asset('assets/images/tor_ibin_logo.png') }}" class="logo left">
				<h5 class="nav-header" style="color: {{ color_scheme }}">{{ short_title }} Admin</h5>
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span> 
					<span class="icon-bar"></span> 
					<span class="icon-bar"></span>
				</button>
			</div>
			<div id="myNavbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav ">
					<li><a href="{{ path('admin_home') }}">Home</a></li>
					<li><a href="{{ path('admin_search') }}">Search</a></li>
					<li><a href="{{ path('announcement_manager') }}">Announcements</a></li>
					<li class="active"><a href="{{ path('data_manager') }}">Data</a></li>
					<li><a href="{{ path('file_manager', {'upload_directory': 'FASTA'}) }}">Files</a></li>
					<li><a href="{{ path('admin_settings') }}">Settings</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="{{ path('user_logout') }}">Logout</a></li>
				</ul>
			</div>
		</div>
		<div class="shadow"></div>
	</nav>
</header>
<main>
    <div class="container">
    	<div class="row">
    		<div class="col-md-8">
    			<div class="container data_upload_panel">
    				<div class="row">
    					<div class="data_upload_header">
    						<h4>Upload Data</h4>
    					</div>
    				</div>
    				<div class="row data_upload_content">
    					{{ form_start(form) }}
    					<div class="col-sm-4">
    						<div class="row">
    							<input id="uploadFile" disabled="disabled" />
    						</div>
    						<div class="row">
    							<div class="fileUpload btn btn-primary">
    								<i class="glyphicon glyphicon-plus"></i> <span>Choose File</span>
    								{{ form_widget(form.data_file, {'attr': {'class': 'upload'}}) }}
    							</div>
    						</div>
    					</div>
    					<div class="col-sm-6">
    						<div class="row">{{ form_widget(form.description) }}</div>
    						</br>
    						<div class="row">{{ form_widget(form.file_type) }}</div>
    						</br>
    						<div class="row">
    							<button type="submit" class="btn btn-success start">
    								<i class="glyphicon glyphicon-upload"></i> <span>Upload Data</span>
    							</button>
    						</div>
    					</div>
    					{{ form_end(form) }}
    				</div>
    			</div>
    		</div>
    		<div class="col-md-4">
    			{% if interactions_added > 0 %}
    			<div class="container data_upload_panel">
    				<div class="row">
    					<div class="data_upload_header">
    						<h4 style='background-color: #ffd2a0;'>Upload File Stats</h4>
    					</div>
    				</div>
    				<div class="row data_upload_content">
    					<div class="col-sm-12">
    						<div class="row">
    							<p>Interactions Added: {{ interactions_added }}</p>
    						</div>
    						<div class="row">
    							<p>New Organisms Added: {{ new_organisms_added }}</p>
    						</div>
    						<div class="row">
    							<p>New Proteins Added: {{ new_proteins_added }}</p>
    						</div>
    						<div class="row">
    							<p>New Datasets Added: {{ new_datasets_added }}</p>
    						</div>
    					</div>
    				</div>
    			</div>
    			{% endif %}
    		</div>
    	</div>
    </div>
</main>
{% endblock %} 
{% block javascripts %}
    <script src="{{ asset('assets/js/jquery-2.1.4.min.js') }}"></script>
    <script src="{{ asset('assets/js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('assets/js/main.js') }}"></script>
    <script src="{{ asset('assets/js/data_manager.js') }}"></script>
{% endblock %}
