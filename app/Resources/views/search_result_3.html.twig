{% extends 'base.html.twig' %}
{% block stylesheets %}
<link rel="stylesheet"
	href="{{ asset('assets/css/bootstrap.min.css') }}">
<link rel="stylesheet"
	href="{{ asset('assets/css/jquery-ui.min.css') }}">
<link rel="stylesheet"
	href="{{ asset('bundles/footable/css/footable.core.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/jquery.qtip.css') }}">
<link rel="stylesheet"
	href="{{ asset('assets/css/cytoscape.js-panzoom.css') }}">
<link rel="stylesheet"
	href="{{ asset('assets/css/font-awesome.min.css') }}">
<link rel="stylesheet"
	href="{{ asset('bundles/spectrum/spectrum.css') }}">

<link rel="stylesheet" href="{{ asset('assets/css/main.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/search.css') }}">
<link rel="stylesheet"
	href="{{ asset('assets/css/search_results.css') }}">
<link rel='shortcut icon'
	href='{{ asset('assets/images/tor_ibin_icon.ico') }}' />
<script src="{{ asset('assets/js/jquery-2.1.4.min.js') }}"></script>
<script src="{{ asset('assets/js/jquery.disablescroll.min.js') }}"></script>
<script>$(window).disablescroll();</script>

{% endblock %}
{% block title %}
{{ short_title }}
| Results
{% endblock%}
{% block content %}
<header>
	<nav class="navbar navbar-default main_header"
		style="background-color: {{ main_color_scheme }};">
		<svg id="svg2" class="main_logo left "
			xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns="http://www.w3.org/2000/svg" height="40.026" width="69.124"
			version="1.1" xmlns:cc="http://creativecommons.org/ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"> <metadata
				id="metadata7"> <rdf:RDF> <cc:Work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:typerdf:resource ="http://purl.org/dc/dcmitype/StillImage"/> <dc:title /> </cc:Work> </rdf:RDF> </metadata> <g
				id="g3770" stroke-miterlimit="4" stroke-dasharray="none"> <path
				id="path2987"
				d="m48.576,17.582c0,9.2489-7.5012,16.746-16.754,16.746-9.2532,0-16.754-7.4977-16.754-16.746,0-9.2489,7.5012-16.746,16.754-16.746,9.2532,0,16.754,7.4977,16.754,16.746z"
				stroke-opacity="0.56084655000000005" class="parent" stroke="#000000"
				stroke-width="0.04307067000000000" fill="#e6e6e6" /> <path
				id="path2991-1"
				d="m31.367,23.78c0,2.992-2.4267,5.4175-5.42,5.4175-2.9934,0-5.42-2.4255-5.42-5.4175s2.4267-5.4175,5.42-5.4175c2.9934,0,5.42,2.4255,5.42,5.4175z"
				class="child" stroke="{{logo_color_scheme}}"
				stroke-width="0.08252774" fill="{{logo_color_scheme}}" /> <path
				id="path2991-7"
				d="m42.899,13.341c0,2.992-2.4267,5.4175-5.42,5.4175-2.9934,0-5.42-2.4255-5.42-5.4175s2.4267-5.4175,5.42-5.4175c2.9934,0,5.42,2.4255,5.42,5.4175z"
				class="child" stroke="{{logo_color_scheme}}"
				stroke-width="0.08252774" fill="{{logo_color_scheme}}" /> <path
				id="path2991-4"
				d="m67.986,29.163c0,2.992-2.4267,5.4175-5.42,5.4175-2.9934,0-5.42-2.4255-5.42-5.4175s2.4267-5.4175,5.42-5.4175c2.9934,0,5.42,2.4255,5.42,5.4175z"
				class="child" stroke="{{logo_color_scheme}}"
				stroke-width="0.08252774" fill="{{logo_color_scheme}}" /> <path
				id="path2991-0"
				d="m10.903,34.545c0,2.992-2.4267,5.4175-5.42,5.4175-2.9934,0-5.42-2.4255-5.42-5.4175s2.4267-5.4175,5.42-5.4175c2.9934,0,5.42,2.4255,5.42,5.4175z"
				class="child" stroke="{{logo_color_scheme}}"
				stroke-width="0.08252774" fill="{{logo_color_scheme}}" /> <path
				id="path3807" stroke-linejoin="miter" d="m25.95,23.82-20.47,10.76"
				class="child" stroke="{{logo_color_scheme}}" stroke-linecap="butt"
				stroke-width="1.07676673" fill="none" /> <path id="path2991-9-45"
				d="m69.063,5.4793c0,2.992-2.4267,5.4175-5.42,5.4175-2.9934,0-5.42-2.4255-5.42-5.4175s2.4267-5.4175,5.42-5.4175c2.9934,0,5.42,2.4255,5.42,5.4175z"
				class="child" stroke="{{logo_color_scheme}}"
				stroke-width="0.08252774" fill="{{logo_color_scheme}}" /> <path
				id="path3807-1" stroke-linejoin="miter"
				d="m63.64,5.5195-25.848,7.5356" class="child"
				stroke="{{logo_color_scheme}}" stroke-linecap="butt"
				stroke-width="1.07676673" fill="none" /> <path id="path3807-1-5"
				stroke-linejoin="miter" d="m62.56,29.2-24.77-16.15" class="child"
				stroke="{{logo_color_scheme}}" stroke-linecap="butt"
				stroke-width="1.07676673" fill="none" /> </g> </svg>
		<div style="padding: 12px;">
			<h3 style="color: {{ header_color_scheme }}">
				<strong>{{ title }}</strong>
			</h3>
		</div>
	</nav>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			{% if login_status == false %}
			<div class="navbar-header tor_ibin_header">
				<h5 class="nav-header" style="color: {{ main_color_scheme }}">
					{{ short_title }}
				</h5>
				<button type="button" class="navbar-toggle right"
					data-toggle="collapse" data-target="#myNavbar"
					style="margin-left: 30px;">
					<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
			</div>
			<div id="myNavbar" class="collapse navbar-collapse"
				style="padding-left: 0px;">
				<ul class="nav navbar-nav ">
					<li><a href="{{ path('home') }}">Home</a></li>
					<li class="active"><a href="{{ path('search') }}">Search</a></li>
					<li><a href="{{ path('download') }}">Downloads</a></li>
					<li><a href="{{ path('about') }}">About</a></li>
					<li><a href="{{ path('faq') }}">FAQ</a></li>
					<li><a href="{{ path('contact') }}">Contact</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="{{ path('user_register') }}">Register</a></li>
					<li style="margin-left: 0px;"><a href="{{ path('fos_user_security_login') }}">Login</a></li>
				</ul>
			</div>
			{% elseif login_status == true %}
			<div class="navbar-header tor_ibin_header">
				<h5 class="nav-header" style="color: {{ main_color_scheme }}">
					{{ short_title }}
					Admin
				</h5>
				<button type="button" class="navbar-toggle right"
					data-toggle="collapse" data-target="#myNavbar"
					style="margin-left: 30px;">
					<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
			</div>
			<div id="myNavbar" class="collapse navbar-collapse"
				style="padding-left: 0px;">
				<ul class="nav navbar-nav ">
					<li><a href="{{ path('admin_home') }}">Home</a></li>
					<li class="active"><a href="{{ path('admin_search') }}">Search</a></li>
					<li><a href="{{ path('admin_download') }}">Downloads</a></li>
					<li><a href="{{ path('about') }}">About</a></li>
					<li><a href="{{ path('faq') }}">FAQ</a></li>
					<li><a href="{{ path('contact') }}">Contact</a></li>
					{% if admin_status == true %}
					<li><a href="{{ path('announcement_manager') }}">Announcements</a></li>
					<li><a href="{{ path('data_manager') }}">Data</a></li>
					<li><a
						href="{{ path('file_manager', {'upload_directory': 'FASTA'}) }}">Files</a></li>
					<li><a href="{{ path('admin_settings') }}">Settings</a></li>
					{% endif %}
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="{{ path('fos_user_profile_show') }}">Profile</a></li>
					<li style="margin-left: 0px;"><a href="{{ path('user_logout') }}">Logout</a></li>
				</ul>
			</div>
			{% endif %}

		</div>
		<div class="shadow"></div>
	</nav>
</header>

<main id="main">


<div id="data_request_logged_out" class="hidden large">
	<div id="logged_out_form">
		<div class="container">
			<div class="row">
				<h3 class="bold" style="text-align: center; color: {{ main_color_scheme }}">Download Unpublished Data</h3>
				<p style='margin-top: 20px;'>
					<strong>Please register or login to download unpublished data.</strong>
				</p>
			</div>
			<div class="row" style='margin-top: 30px;'>
				<div style="padding-left: 0px; float: left;">
					<a class="btn btn-default" href="{{ path('user_register') }}">Register</a>
					<a class="btn btn-default" href="{{ path('fos_user_security_login') }}">Login</a>
				</div>
				<div style="float: right;">
					<div class="cancel_data_request btn btn-default" style="float: right;">
						<i class="glyphicon glyphicon-ban-circle"></i> <span>Cancel</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="data_request_logged_in" class="hidden large">
	<div id="logged_in_form">
		<div class="container">
			<div class="row">
				<h3 class="bold" style="text-align: center; color: {{ main_color_scheme }}">Download Unpublished Data</h3>
			</div>
			<div class="row">
				<input id="recieve_updates_on_interaction_network" name="recieve_updates_on_interaction_network" type="checkbox"/>Recieve Updates on Interaction Network
				<input id="request_type" class="hidden" value="" />
			</div>
				
			<div class="row">
				<div style="padding-left: 0px; float: left;">
					<button id="download_unpublished_data_link" class="btn btn-default" style="float: left; margin-right: 10px;"><i class="glyphicon glyphicon-download-alt"></i> Download Dataset</button>
		
				</div>
				<div style="float: right;">
					<div class="cancel_data_request btn btn-default" style="float: right;">
						<i class="glyphicon glyphicon-ban-circle"></i> <span>Cancel</span>
					</div>
				</div>
			</div>
		</div>		
	</div>
</div>

<div id="se-pre-con" class="se-pre-con">
    <div class="loader" style="text-align: center;">
        <div class="row" style="display: inline-flex;">
        	<h3 style="color: #545454">Loading Network Data</h3>
        </div>
        <div id="loading_border">
    		<ul class="bokeh">
    			<li></li>
    			<li></li>
    			<li></li>
    			<li></li>
    			<li></li>
    		</ul>
		</div>
	</div>
</div>




<div class="row network_row" style="background-color: #F0F0F0; padding: 10px 0px 10px 0px;">
	<div class="col-sm-12">
		<div id='summary_menu' class='summary_menu_min'
			style="padding: 8px; background-color: #F8F8F8;">

			<h4 id="summary_header" style="color: {{ main_color_scheme }}; font-weight: bold; float: left; cursor: pointer" data-toggle="collapse" data-target="#summary">Summary</h4>

			<strong><a id="maximize_minimize" class="link" style="float: right;" data-toggle="collapse" data-target="#summary">[ + ]</a></strong>

		</div>
		<div id="summary" class="collapse">
		
				<div class="row">
					<h4 style="color: {{ main_color_scheme }}; font-weight: bold;">Search
						Query</h4>
				</div>
				<div class="row">
					<strong>Query: </strong>
					{{ query_parameters.SearchTermSummary }}
				</div>
				<div class="row">
					<strong>Proteins Not Found: </strong>
					{{ unfound_protein_summary }}
				</div>
				<div id="query_parameter" class="hidden">{{ search_query }}</div>
				<div class="row">
					<h4 style="color: {{ main_color_scheme }}; font-weight: bold;">Parameters</h4>
				</div>				
				<div class="row">
					<strong>Filter: </strong>
					{{ query_parameters.FilterParameter }}
				</div>
				<div id="filter_parameter" class="hidden">{{ query_parameters.FilterParameter }}</div>
				<div class="row">
					<strong>Minimum Score: </strong>
					<div id="score_parameter" style="display: inline">{{ query_parameters.ScoreParameter }}</div>
				</div>
				<div class="row">
					<strong>Interaction Status:</strong>

					<div id="interaction_status"  style="display: inline">{{ query_parameters.CategorySummary }}</div>
				</div>
				<div class="row">
					<h4 style="color: {{ main_color_scheme }}; font-weight: bold;">Statistics</h4>
				</div>
				<div class="row">
					<strong>Number of Proteins: </strong>
					<div id="node_number"  style="display: inline"></div>
				</div>
				<div class="row">
					<strong>Number of Interactions: </strong>
					<div id="edge_number"  style="display: inline"></div>
				</div>
			<br class="clear" />
		</div>
	</div>
</div>
<div class="shadow"></div>
<div class="row network_row"
	style="background-color: #E9E9E9; padding-top: 20px;">
	<div class="col-sm-12">
		<div id="network_menu" class='network_menu'>
			<nav class="navbar navbar-default"
				style="min-height: 0px; border: 0px; z-index: 2;">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target="#cy-nav">
						<span class="icon-bar"></span> 
						<span class="icon-bar"></span> 
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="container-fluid">


					<div id="cy-nav" class="collapse navbar-collapse"
						style="padding-left: 0px;">
						<ul id="cy_nav_menu_list" class="nav navbar-nav cy-nav">
						
							<li class="dropdown"><a class="dropdown-toggle"
								data-toggle="dropdown" href="#">Filter <span class="caret"></span></a>
								<ul class="dropdown-menu">
									<li style="padding: 20px 0px 10px 0px;  width: 600px;" class="no_hover">
									
    									<div class="container">
        									<div class="col-sm-6">
        										<div class="row">
        											<h5>Minimum Score</h5>
        										</div>
        										<div class="row">
        											<div id="min_interaction_score">
        												<div id="min_interaction_score_handle"
        													class="ui-slider-handle"></div>
        											</div>
        										</div>
        										<div class="row">
    												<h5>Interaction Status</h5>
        										</div>
        										<div class="row">
        											{% for category in interaction_categories_array %}
        												<div style="display:inline-flex;">
            												<input type="checkbox" id="{{ category['category_name']}}_checkbox" class="checkbox"
            												name="{{ category['category_name'] }}_checkbox" data="{{ category['category_name'] }}" value="checkbox_{{ category['category_name'] }}"
            												{% if query_parameters.CategoryArray[category['category_name']][0] == 'true' %}
            												checked {% endif %}>
            												<div style="margin-left: 10px;">
            												    {{ category['category_name']  }}
            												</div>
        												</div>
        												<br> 
        											{% endfor %}	
        										</div>
        									</div>	
											<div class="col-sm-6">
											    <div class="row">
    												<h5>Tissue Expression</h5>
        										</div>
											     <div class="row">
													<div class="border" style="height: 400px; overflow-y: scroll; overflow-x: hidden;">
                                        					{% for tissue_name, tissue in tissue_array %}
	
                                        						<div class="row" style='margin-left: 20px;'>
                                        							<div style="display:inline-flex; padding-left: 10px;">
                        												<input type="checkbox" id="{{ tissue }}_checkbox" class="checkbox"
                        												name="{{ tissue }}_checkbox" data="{{ tissue }}" value="checkbox_{{ tissue }}"
                        												{% if query_parameters.TissueExpressionArray[tissue] == 'true' %}
                        												checked {% endif %}>
                        												<div style="margin-left: 10px;">
                                                                            {{ tissue_name }}
                        												</div>
                													</div>
																</div>
                                    					    {% endfor %}
													</div>
        										</div>
											</div>
											<div class="col-sm-5 hidden">
											    <div class="row">
    												<h5>Subcellular Location</h5>
        										</div>
											     <div class="row">
													<div class="border" style="height: 400px; overflow-y: scroll; overflow-x: hidden;">
                                        					{% for subcellular_location_name, subcellular_location in subcellular_location_array %}
                                        						<div class="row">
                                        						<div style="display:inline-flex; padding-left: 10px;">
                    												<input type="checkbox" id="{{ subcellular_location }}_checkbox" class="checkbox"
                    												name="{{ subcellular_location }}_checkbox" data="{{ subcellular_location }}" value="checkbox_{{ subcellular_location }}"
                    												{% if query_parameters.SubcellularLocationExpressionArray[subcellular_location] == 'true' %}
                    												checked {% endif %}>
                    												<div style="margin-left: 10px;">
                    												    {{ subcellular_location_name }}
                    												</div>
                												</div>
                												</div>
                                    					    {% endfor %}
													</div>
        										</div>
											</div>
										</div>
										
									</li>
								</ul>
							</li>
						
							<li class="dropdown"><a class="dropdown-toggle"
								data-toggle="dropdown" href="#">Layout <span
									class="caret"></span></a>
								<ul class="dropdown-menu">
									<li><a id="cola" class='layout link'>Cola</a></li>
									<li><a id="cose" class='layout link'>Cose</a></li>
									<li><a id="concentric" class='layout link'>Concentric</a></li>
									<li><a id="circle" class='layout link'>Circle</a></li>
									<li><a id="grid" class='layout link'>Grid</a></li>
								</ul>
							</li>
							<li class="dropdown"><a class="dropdown-toggle"
								data-toggle="dropdown" href="#">Downloads <span
									class="caret"></span></a>
								<div id="unpublished_dataset" class="hidden"></div>
								<ul class="dropdown-menu">
									<h5 style="margin-left: 20px;">Image</h5>
									<li><a id='png' class="png link" download>Image (PNG)</a></li>
									<h5 style="margin-left: 20px;">Network Data</h5>							
									
									<li>
    									<form id="psi_mitab_interaction_download_form" action="{{ url }}download/interaction_psi_mitab/" method="post">
                                          <a id="psi_mitab_interaction" class="data_request_links link">Interactions (PSI-MI Tab 2.7)</a>
                                          <input id="add_psi_mitab_interaction_user_interaction_network" type="hidden" name="add_psi_mitab_interaction_user_interaction_network" value=''/>
                                          <input id="psi_mitab_interaction_data" type="hidden" name="psi_mitab_interaction_data" value=''/>
                                          <input id="psi_mitab_search_query" type="hidden" name="psi_mitab_search_query" value='{{ search_query }}'/>
                                          <input id="psi_mitab_query_parameters" type="hidden" name="psi_mitab_query_parameters" value=''/>
                                        </form>
									</li>
									<li>
									    <form id="csv_interaction_download_form" action="{{ url }}download/interaction_csv/" method="post">
                                          <a id="csv_interaction" class="data_request_links link">Interactions (CSV)</a>
                                          <input id="add_csv_interaction_user_interaction_network" type="hidden" name="add_csv_interaction_user_interaction_network" value=''/>
                                          <input id="csv_interaction_data" type="hidden" name="csv_interaction_data" value=''/>
                                          <input id="csv_search_query" type="hidden" name="csv_search_query" value='{{ search_query }}'/>
                                          <input id="csv_query_parameters" type="hidden" name="csv_query_parameters" value=''/>
                                        </form>
									</li>
									<li>
									    <form id="csv_interactor_download_form" action="{{ url }}download/interactor_csv/" method="post">
                                          <a id="csv_interactor" class="data_request_links link">Interactors (CSV)</a>
                                          <input id="add_csv_interactor_user_interaction_network" type="hidden" name="add_csv_interactor_user_interaction_network" value=''/>
                                          <input id="csv_interactor_data" type="hidden" name="csv_interactor_data" value=''/>
                                        </form>
									</li>
									<li>
									    <form id="fasta_download_form" action="{{ url }}download/multi_fasta/" method="post">
                                          <a id="fasta" class="data_request_links link">Protein Sequences (FASTA)</a>
                                          <input id="add_fasta_data_user_interaction_network" type="hidden" name="add_fasta_data_user_interaction_network" value=''/>
                                          <input id="fasta_data" type="hidden" name="fasta_data" value=''/>
                                        </form>
									</li>									
									
								</ul></li>

							<li class="dropdown">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#">External Links <span class="caret"></span></a>
								<ul class="dropdown-menu">
        							<li id="gene_mania_link_li"></li>
        							<li id="string_link_li"></li>
        							<li id="reactome_link_li"></li>
        							<li id="pathway_commons_link_li"></li>
        							<li id="david_link_li"></li>
        							<li id="gprofiler_link_li"></li>							
								</ul></li>
									
								</ul>
						<ul id="cy_nav_menu_list_legend" class="nav navbar-nav cy-nav-right navbar-right ">
								<li class="dropdown"><a class="dropdown-toggle"
								data-toggle="dropdown" href="#">Legend <span class="caret"></span></a>
								<ul class="dropdown-menu" style="padding: 10px;">
									<li >        						
									
									<div style="display: table">
									<div style="display: table-row;">
        								<div style="display: table-cell;">
        									<strong>Query:</strong>
        								</div>
        								<div style="display: table-cell;">
        									<div
        										style="width: 13px; height: 13px; border-radius: 50%; margin: 0px 0px 0px 6px; background: #cc0000"></div>
        								</div>
        							</div>
        							<div style="display: table-row;">
        								<div style="display: table-cell;">
        									<strong>Interactor:</strong>
        								</div>
        								<div style="display: table-cell;">
        									<div
        										style="width: 13px; height: 13px; border-radius: 50%; margin: 2px 0px 0px 6px; background: #3c78d8"></div>
        								</div>
        							</div>
        							
        							
        							{% for interaction_category in interaction_categories_array %}
            							<div style="display: table-row;">
            								<div style="display: table-cell;">
            									<strong>{{ interaction_category['category_name'] }}:</strong>
            								</div>
            								<div style="display: table-cell;">
            									<div
            										style="width: 40px; height: 6px; margin: 0px 0px 2px 6px; background: {{ interaction_category['color_scheme'] }}"></div>
            								</div>
            							</div>
        							{% endfor %}

        						</div></li>
								
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
	</div>
</div>
<div class="row network_row" style="background-color: #E9E9E9;">
	<div class="col-sm-12">
		
		<div id='cy'>
			<div id="no_interactions_found" style="margin-top: 20%; text-align: center; z-index:1000;"><h4>No Interactions Found</h4></div>
		</div>
		<div id='no_cy' class="hidden" >
			<div style="margin-top: 40px; text-align: center;"><h4>Interaction Network too Large to Display</h4></div>
		
		</div>
	</div>
</div>
<div class="shadow"></div>


<div class="row result_row"
	style="background-color: #F0F0F0; margin-bottom: 0px; overflow: auto;">
	<div class="tab-content" style="padding-top: 0;">
			<div id="network" class="border tab-pane fade in active"
			style="padding-top: 0;">
			<div id="network_menu_no_cy" class='network_menu_no_cy hidden'>
			<nav class="navbar navbar-default"
				style="min-height: 0px; border: 0px;">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target="#cy-nav">
						<span class="icon-bar"></span> 
						<span class="icon-bar"></span> 
						<span class="icon-bar"></span>
					</button>
				</div>
				<div class="container-fluid" style="border-bottom: 1px solid #ccc;">


					<div id="cy-nav" class="collapse navbar-collapse"
						style="padding-left: 0px;">
						<ul id="cy_nav_menu_list" class="nav navbar-nav cy-nav" style="border:0px;">
						
							<li class="dropdown"><a class="dropdown-toggle"
								data-toggle="dropdown" href="#">Filter <span class="caret"></span></a>
								<ul class="dropdown-menu">
									<li style="padding: 20px 0px 10px 0px;  width: 800px;" class="no_hover">
									
    									<div class="container">
        									<div class="col-sm-2">
        										<div class="row">
        											<h5>Minimum Score</h5>
        										</div>
        										<div class="row">
        											<div id="min_interaction_score">
        												<div id="min_interaction_score_handle"
        													class="ui-slider-handle"></div>
        											</div>
        										</div>
        										<div class="row">
    												<h5>Interaction Status</h5>
        										</div>
        										<div class="row">
        											{% for category in interaction_categories_array %}
        												<div style="display:inline-flex;">
            												<input type="checkbox" id="{{ category['category_name']}}_checkbox" class="checkbox"
            												name="{{ category['category_name'] }}_checkbox" data="{{ category['category_name'] }}" value="checkbox_{{ category['category_name'] }}"
            												{% if query_parameters.CategoryArray[category['category_name']][0] == 'true' %}
            												checked {% endif %}>
            												<div style="margin-left: 10px;">
            												    {{ category['category_name']  }}
            												</div>
        												</div>
        												<br> 
        											{% endfor %}	
        										</div>
        									</div>	
											<div class="col-sm-5">
											    <div class="row">
    												<h5>Tissue Expression</h5>
        										</div>
											     <div class="row">
													<div class="border" style="height: 400px; overflow-y: scroll; overflow-x: hidden;">
                                        					{% for tissue_name, tissue in tissue_array %}
	
                                        						<div class="row" style='margin-left: 20px;'>
                                        							<div style="display:inline-flex; padding-left: 10px;">
                        												<input type="checkbox" id="{{ tissue }}_checkbox" class="checkbox"
                        												name="{{ tissue }}_checkbox" data="{{ tissue }}" value="checkbox_{{ tissue }}"
                        												{% if query_parameters.TissueExpressionArray[tissue] == 'true' %}
                        												checked {% endif %}>
                        												<div style="margin-left: 10px;">
                                                                            {{ tissue_name }}
                        												</div>
                													</div>
																</div>
                                    					    {% endfor %}
													</div>
        										</div>
											</div>
											<div class="col-sm-5">
											    <div class="row">
    												<h5>Subcellular Location</h5>
        										</div>
											     <div class="row">
													<div class="border" style="height: 400px; overflow-y: scroll; overflow-x: hidden;">
                                        					{% for subcellular_location_name, subcellular_location in subcellular_location_array %}
                                        						<div class="row">
                                        						<div style="display:inline-flex; padding-left: 10px;">
                    												<input type="checkbox" id="{{ subcellular_location }}_checkbox" class="checkbox"
                    												name="{{ subcellular_location }}_checkbox" data="{{ subcellular_location }}" value="checkbox_{{ subcellular_location }}"
                    												{% if query_parameters.SubcellularLocationExpressionArray[subcellular_location] == 'true' %}
                    												checked {% endif %}>
                    												<div style="margin-left: 10px;">
                    												    {{ subcellular_location_name }}
                    												</div>
                												</div>
                												</div>
                                    					    {% endfor %}
													</div>
        										</div>
											</div>
										</div>
										
									</li>
								</ul>
							</li>




									
								</ul>

					</div>
				</div>
			</nav>
		</div>
	
	
	
	

			<div class="row " style="border-bottom: 1px solid #ccc; background-color: #F8F8F8; margin: 0px;">
				<div id="target" class="col-sm-12" style="padding: 0px;">

    				<div class="navbar-header" style="display: table; width: 100%;">
    					<div style="text-align: left; display: table-cell; vertical-align: middle;">
    						<h4 id="selected_network_table_tab" style="color: {{ main_color_scheme }}; font-weight: bold; margin-left: 16px; ">Interactions</h4>
    					</div>
    					<div style="text-align: right; display: table-cell;">
        					<button type="button" class="info-navbar-toggle" data-toggle="collapse"
        						data-target="#interaction_info">
        						<span class="icon-bar"></span> 
        						<span class="icon-bar"></span> 
        						<span class="icon-bar"></span>
        					</button>
    					</div>
    				</div>
    				<div class="container-fluid" style="padding: 0px;">
    					<div id="interaction_info" class="collapse navbar-collapse" style="padding: 0px;">
        					<ul  class="nav navbar-nav" style="margin: 0px; background: #ffffff; border-top: 1px solid #ccc;">
        						<li class="active"><a class="network_table_tab" data-toggle="tab" href="#interactions"><strong>Interactions</strong></a></li>
        						<li ><a class="network_table_tab" data-toggle="tab" href="#go_enrichment"><strong>GO Enrichment</strong></a></li>	
        						<li><a class="network_table_tab" data-toggle="tab" href="#pathways"><strong>Pathway Enrichment</strong></a></li>			
        						<li><a class="network_table_tab" data-toggle="tab" href="#complexes"><strong>Complex Enrichment</strong></a></li>
        						<li><a class="network_table_tab" data-toggle="tab" href="#tissue_expression"><strong>Tissue Expression</strong></a></li>
        						<li><a class="network_table_tab" data-toggle="tab" href="#subcellular_localization"><strong>Subcellular Localization</strong></a></li>
        					</ul>
    					</div>
    				</div>
    			</div>
			</div>
			<div class="tab-content" style="padding: 0px; width: 100%">
				<div id="interactions" class="tab-pane fade in active"
					style="padding-top: 0;">
					<div class="row "
						style="border-bottom: 1px solid #ccc; background-color: #F8F8F8; margin: 0px; padding: 6px;">
						<div class="col-sm-4">
							<div class="input-group input-group-sm"
								style="margin-bottom: 0px; margin-top: 3px;">
								<lable for="change-page-size"
									style="margin-right: 10px; color: {{ main_color_scheme }};">Page
								Size:</lable>
								<select id="change-page-size">
									<option value="10" selected>10</option>
									<option value="50">50</option>
									<option value="100">100</option>
									<option value="10000">All</option>
								</select>
							</div>
						</div>
						<div class="col-md-8"">
							<input type="text" id="filter" placeholder="Search" />
						</div>
					</div>
					<div class="container">
					<table id="search_result_table" class="footable table"
                    	data-filter="#filter" data-filtering="true"
                    	data-filter-minimum="3" data-limit-navigation="5" style="max-width: 700px;">
                    	<thead>
                    		<tr>
                    			<th><nobr>Interactor A</nobr></th>
                    			<th><nobr>Interactor B</nobr></th>
                    			<th>Score</th>
                    			<th data-sort-ignore="true">Dataset</th>
                    		</tr>
                    	</thead>
                    	<tbody id="interaction_rows">
                    	
                    	
                    	</tbody>
                    	<tfoot>
                    		<tr>
                    			<td colspan="5" style="text-align: center;">
                    				<div class="pagination pagination-centered"></div>
                    			</td>
                    		</tr>
                    	</tfoot>
                    </table>
					<div id="hide_rows" hidden></div>
					<div id="protein_qtips" hidden></div>

					</div>
				</div>
				<div id="go_enrichment" class="tab-pane fade"
					style="padding-top: 0;">
					<ul class="nav nav-pills"
						style="margin: 0px; border-bottom: 1px solid #ccc;">
						<li class="active"><a data-toggle="pill"
							href="#bioiogical_process">Bioiogical Process</a></li>
						<li><a data-toggle="pill" href="#molecular_function">Molecular
								Function</a></li>
						<li><a data-toggle="pill" href="#cellular_component">Cellular
								Component</a></li>
					</ul>
					<div class="tab-content" style="padding: 0px;">
						<div id="bioiogical_process" class="tab-pane fade in active"
							style="padding: 0px; border: 0px;">
							<div class="row">
								<table data-paging="true" data-limit-navigation="5" class="footable table" style="max-width: 700px;">
									<colgroup>
										<col span="1" style="width: 20%;">
										<col span="1" style="width: 60%;">
										<col span="1" style="width: 15%;">
									</colgroup>
									<thead>
										<tr>
											<th  data-sort-ignore="true">GO Term Code</th>
											<th>GO Term</th>
											<th data-sorted="true">p-value</th>
										</tr>
									</thead>
									<tbody  id="BP_table" class="enrichment_table">
									</tbody>
									<tfoot>
        								<tr>
        									<td colspan="5" style="text-align: center;">
        										<div class="pagination pagination-centered"></div>
        									</td>
        								</tr>
        							</tfoot>
								</table>
							</div>
						</div>
						<div id="molecular_function" class="tab-pane fade"
							style="padding: 0px; border: 0px;">
							<div class="row">
								<table  data-paging="true" data-limit-navigation="5" class="footable table" style="max-width: 700px;">
									<colgroup>
										<col span="1" style="width: 20%;">
										<col span="1" style="width: 60%;">
										<col span="1" style="width: 15%;">
									</colgroup>
									<thead>
										<tr>
											<th  data-sort-ignore="true">GO Term Code</th>
											<th>GO Term</th>
											<th data-sorted="true">p-value</th>
										</tr>
									</thead>
									<tbody id="MF_table" class="enrichment_table">
									</tbody>
									<tfoot>
        								<tr>
        									<td colspan="5" style="text-align: center;">
        										<div class="pagination pagination-centered"></div>
        									</td>
        								</tr>
        							</tfoot>
								</table>
							</div>
						</div>
						<div id="cellular_component" class="tab-pane fade"
							style="padding: 0px; border: 0px;">
							<div class="row">
								<table data-paging="true" data-limit-navigation="5"  class="footable table" style="max-width: 700px;">
									<colgroup>
										<col span="1" style="width: 20%;">
										<col span="1" style="width: 60%;">
										<col span="1" style="width: 15%;">
									</colgroup>
									<thead>
										<tr>
											<th  data-sort-ignore="true">GO Term Code</th>
											<th>GO Term</th>
											<th data-sorted="true">p-value</th>
										</tr>
									</thead>
									<tbody id="CC_table" class="enrichment_table">
									</tbody>
									<tfoot>
        								<tr>
        									<td colspan="5" style="text-align: center;">
        										<div class="pagination pagination-centered"></div>
        									</td>
        								</tr>
        							</tfoot>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div id="pathways" class="tab-pane fade" style="padding-top: 0;">
    				<div class="tab-content" style="padding: 0px; width: 100%">
    

    							<div class="row">
    								<table data-paging="true" data-limit-navigation="5" class="footable table" style="max-width: 700px;">
    									<colgroup>
    										<col span="1" style="width: 25%;">
    										<col span="1" style="width: 60%;">
    										<col span="1" style="width: 15%;">
    									</colgroup>
    									<thead>
    										<tr>
    											<th data-sort-ignore="true">Reactome ID</th>
    											<th>Pathway</th>
    											<th>p-value</th>
    										</tr>
    									</thead>
    									<tbody  id="rea_table"  class="enrichment_table">
    									</tbody>
    									<tfoot>
            								<tr>
            									<td colspan="5" style="text-align: center;">
            										<div class="pagination pagination-centered"></div>
            									</td>
            								</tr>
            							</tfoot>
    								</table>
    							</div>
    						</div>

    				</div>
    				<div id="complexes" class="tab-pane fade" style="padding-top: 0;">
    					<div class="tab-content" style="padding: 0px; width: 100%">
    

    							<div class="row">
    								<table data-paging="true" data-limit-navigation="5"  class="footable table" style="max-width: 700px;">
    									<colgroup>
    										<col span="1" style="width: 25%;">
    										<col span="1" style="width: 60%;">
    										<col span="1" style="width: 15%;">
    									</colgroup>
    									<thead>
    										<tr>
    											<th data-sort-ignore="true">CORUM ID</th>
    											<th>Complex</th>
    											<th>p-value</th>
    										</tr>
    									</thead>
    									<tbody  id="cor_table"  class="enrichment_table">
    									</tbody>
    									<tfoot>
            								<tr>
            									<td colspan="5" style="text-align: center;">
            										<div class="pagination pagination-centered"></div>
            									</td>
            								</tr>
            							</tfoot>
    								</table>
    							</div>
    						</div>

    				</div>
    				<div id="tissue_expression" class="tab-pane fade" style="padding-top: 0;">
    					<div class="tab-content" style="padding: 0px; width: 100%">
							<div class="row">
								<table data-paging="true" data-limit-navigation="5"  class="footable table" style="max-width: 700px;">
									<colgroup>
										<col span="1" style="width: 25%;">
										<col span="1" style="width: 60%;">
										<col span="1" style="width: 15%;">
									</colgroup>
									<thead>
										<tr>
											<th>Tissue Name</th>
										</tr>
									</thead>
									<tbody  id="tissue_expression_table"  class="enrichment_table">
									</tbody>
									<tfoot>
        								<tr>
        									<td colspan="5" style="text-align: center;">
        										<div class="pagination pagination-centered"></div>
        									</td>
        								</tr>
        							</tfoot>
								</table>
							</div>
						</div>
					</div>
					<div id="subcellular_localization" class="tab-pane fade" style="padding-top: 0;">
    					<div class="tab-content" style="padding: 0px; width: 100%">
							<div class="row">
								<table data-paging="true" data-limit-navigation="5"  class="footable table" style="max-width: 700px;">
									<colgroup>
										<col span="1" style="width: 25%;">
										<col span="1" style="width: 60%;">
										<col span="1" style="width: 15%;">
									</colgroup>
									<thead>
										<tr>
											<th>Subcellular Localization</th>
										</tr>
									</thead>
									<tbody  id="subcellular_localization_table"  class="enrichment_table">
									</tbody>
									<tfoot>
        								<tr>
        									<td colspan="5" style="text-align: center;">
        										<div class="pagination pagination-centered"></div>
        									</td>
        								</tr>
        							</tfoot>
								</table>
							</div>
						</div>
					</div>      				
				</div>
			</div>
		</div>
	</div>
</div>
<div class="shadow" style="height: 2px;"></div>
</main>
<main id="main_text_output" style="display: none; background: #ffffff;">
<div style="padding: 10px; background: #f0f0f0;">
<button id="download" class="btn btn-default" style="background: #f8f8f8;">Download</button>
</div>
<div class="shadow" style="margin-bottom: 10px;"></div>
<div id="text_output">

</div>
<div class="shadow" style="margin-top: 10px; height: 2px;"></div>
</main>

<footer>
	<div class="row">
		{{ footer | raw }}
	</div>
</footer>

{% endblock %}
{% block javascripts %}

<script>
var CategoryArray = {{ interaction_categories_array|json_encode|raw }};
var CategoryParameterArray = {{ query_parameters.CategoryArray|json_encode|raw }};
var TissueExpressionParameterArray = {{ query_parameters.TissueExpressionArray|json_encode|raw }};
var SubcellularLocationExpressionArray = {{ query_parameters.SubcellularLocationExpressionArray|json_encode|raw }};
var ScoreParameter = {{ query_parameters.ScoreParameter }};
var SearchTerm = "{{ query_parameters.SearchTermParameter }}";
var TextOutput = "{{ query_parameters.TextOutput }}";
var SearchResultsJSON = '';
var QueryNodeColor = "{{ query_node_color }}";
var InteractorNodeColor = "{{ interactor_node_color }}";
var MainColorScheme = "{{ main_color_scheme }}";
var loggedIn = "{{ login_status }}";
var Url = "{{ url }}";


$.ajax({
    type: "POST",
    url:  Url + "search_results_interactions",
    data: {
        
		'test' : 'test_1',
		'search_term_parameter' : "{{ query_parameters.SearchTermParameter }}",
		'filter_parameter' : {{ query_parameters.FilterParameter|json_encode|raw  }},
		'search_term_array' : {{ query_parameters.SearchTermArray|json_encode|raw  }},
		
        },
    dataType: 'json',
    async: false, 
	success:function(result){
        
        SearchResultsJSON = JSON.parse(result);
        
    }

});




</script>

<script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
<script src="{{ asset('assets/js/jquery-ui.min.js') }}"></script>
<script src="{{ asset('assets/js/jquery.ui.touch-punch.min.js') }}"></script>
<script src="{{ asset('assets/js/bootstrap.min.js') }}"></script>
<script src="{{ asset('bundles/footable/demos/js/bootstrap-tab.js') }}"></script>
<script src="{{ asset('bundles/footable/demos/js/demos.js') }}"></script>
<script src="{{ asset('bundles/footable/js/footable.js') }}"></script>
<script src="{{ asset('bundles/footable/js/footable.paginate.js') }}"></script>
<script src="{{ asset('bundles/footable/js/footable.filter.js') }}"></script>
<script src="{{ asset('bundles/footable/js/footable.sort.js') }}"></script>
<script src="{{ asset('assets/js/cytoscape.min.js') }}"></script>
<script src="{{ asset('assets/js/cytoscape-qtip.js') }}"></script>
<script src="{{ asset('assets/js/cytoscape-panzoom.js') }}"></script>
<script src="{{ asset('assets/js/cola.js') }}"></script>
<script src="{{ asset('assets/js/cytoscape-cola.js') }}"></script>
<script src="{{ asset('assets/js/jquery.qtip.min.js') }}"></script>
<script src="{{ asset('bundles/spectrum/spectrum.js') }}"></script>
<script src="{{ asset('assets/js/readmore.min.js') }}"></script>
<script src="{{ asset('assets/js/main.js') }}"></script>
<script src="{{ asset('assets/js/search_results.js') }}"></script>

<script
	src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-387720-9', 'auto');
  ga('send', 'pageview');

</script>

{% endblock %}
